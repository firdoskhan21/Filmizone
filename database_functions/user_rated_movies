-- DROP FUNCTION user_rated_movies(usr_id integer);
CREATE OR REPLACE FUNCTION user_rated_movies (usr_id int)
RETURNS  table (mov_id int ,mov_title varchar ,mov_year int ,mov_time int,mov_lang varchar,mov_dt_rel date,mov_rel_country varchar,act_id int, role varchar,act_fname varchar,act_lname varchar,act_gender varchar,user_id int,user_stars numeric,num_o_ratings int,user_name varchar) AS $$
BEGIN
RETURN QUERY
select * FROM get_movies_withRatings() where get_movies_withRatings.user_id=usr_id ;
END;
$$ LANGUAGE plpgsql;
